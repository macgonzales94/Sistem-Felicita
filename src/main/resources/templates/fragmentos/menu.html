<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
    <!-- Menú lateral para ProAdmin -->
    <div th:fragment="menu" class="sidebar">
        <div class="sidebar-header">
            <a href="#" class="sidebar-logo">
                <i class="fas fa-cut me-2"></i>FELICITA
            </a>
            <button class="sidebar-toggle d-md-none">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <ul class="sidebar-nav">
            <li class="sidebar-item">
                <a th:href="@{/proadmin/dashboard}" class="sidebar-link">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            
            <div class="sidebar-divider"></div>
            <div class="sidebar-heading">Establecimientos</div>
            
            <li class="sidebar-item">
                <a th:href="@{/proadmin/establecimientos}" class="sidebar-link">
                    <i class="fas fa-store"></i>
                    <span>Mis Establecimientos</span>
                </a>
            </li>
            
            <div class="sidebar-divider"></div>
            <div class="sidebar-heading">Servicios</div>
            
            <li class="sidebar-item">
                <a th:href="@{/proadmin/servicios}" class="sidebar-link">
                    <i class="fas fa-concierge-bell"></i>
                    <span>Gestionar Servicios</span>
                </a>
            </li>
            
            <div class="sidebar-divider"></div>
            <div class="sidebar-heading">Citas</div>
            
            <li class="sidebar-item">
                <a th:href="@{/proadmin/citas}" class="sidebar-link">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Ver Citas</span>
                </a>
            </li>
            
            <li class="sidebar-item">
                <a th:href="@{/proadmin/calendario}" class="sidebar-link">
                    <i class="fas fa-calendar-day"></i>
                    <span>Calendario</span>
                </a>
            </li>
            
            <div class="sidebar-divider"></div>
            <div class="sidebar-heading">Estadísticas</div>
            
            <li class="sidebar-item">
                <a th:href="@{/proadmin/estadisticas}" class="sidebar-link">
                    <i class="fas fa-chart-bar"></i>
                    <span>Ver Estadísticas</span>
                </a>
            </li>
            
            <div class="sidebar-divider"></div>
            <div class="sidebar-heading">Configuración</div>
            
            <li class="sidebar-item">
                <a th:href="@{/proadmin/perfil}" class="sidebar-link">
                    <i class="fas fa-user"></i>
                    <span>Mi Perfil</span>
                </a>
            </li>
            
            <!-- Nuevo botón de modo oscuro en el sidebar -->
            <li class="sidebar-item">
                <a href="#" class="sidebar-link" id="toggle-dark-mode-sidebar">
                    <i class="fas fa-moon theme-icon-light"></i>
                    <i class="fas fa-sun theme-icon-dark"></i>
                    <span>Modo Oscuro</span>
                </a>
            </li>
        </ul>
        
        <div class="sidebar-footer">
            <form th:action="@{/logout}" method="post">
                <button type="submit" class="btn btn-danger btn-sm w-100">
                    <i class="fas fa-sign-out-alt me-2"></i>Cerrar Sesión
                </button>
            </form>
        </div>
    </div>

    <!-- Script para el modo oscuro en el sidebar -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Botón de modo oscuro en el sidebar
            const botonSidebar = document.getElementById('toggle-dark-mode-sidebar');
            if (botonSidebar) {
                botonSidebar.addEventListener('click', function(e) {
                    e.preventDefault();
                    if (window.alternarModoOscuro) {
                        window.alternarModoOscuro();
                    }
                });
            }
        });
    </script>
</body>
</html>